
  
  

# Telegram Bot for Appointment Management

  

Этот проект представляет собой Telegram-бота для управления записями на процедуры. Бот предназначен для двух типов пользователей: клиентов и администраторов. Клиенты могут записываться на процедуры, просматривать свои записи, отменять или переносить их. Администраторы могут управлять расписанием, блокировать даты и временные слоты, просматривать и редактировать записи клиентов.

  

## Основные функции

  

### Для клиентов:

-  **Запись на процедуру**: Клиенты могут выбрать процедуру, дату, время и подтвердить запись. При формировании доступных дат и времени учитывается продолжительность процедуры.

-  **Личный кабинет**: Просмотр и редактирование своих данных, включая имя и телефон.

-  **Управление записями**: Возможность отмены или переноса записей.

  

### Для администраторов:

-  **Управление расписанием**: Блокировка дат и временных слотов, добавление новых процедур.

-  **Просмотр записей**: Возможность просмотра всех записей на определенную дату или для конкретного клиента.

-  **Управление клиентами**: Просмотр и удаление клиентов.

-  **Управление записями**: Возможность отмены или переноса записей клиентов.

  

## Как работает бот?

  

1.  **Клиентская часть**:

- Клиент взаимодействует с ботом через текстовые команды и кнопки.

- Бот ведет клиента через процесс выбора процедуры, даты и времени, а также подтверждения записи.

- Клиент может управлять своими записями через личный кабинет.

  

2.  **Административная часть**:

- Администратор имеет доступ к расширенным функциям управления через специальные команды.

- Администратор может блокировать даты, просматривать записи и управлять клиентами.

  

## Настройка проекта

  

### Переменные окружения

  

Для работы бота необходимо задать следующие переменные окружения в файле `.env`:

  

```plaintext

BOT_TOKEN=ваш_токен_бота

ADMIN_IDS=id_администратора_1,id_администратора_2

ID_TO_SEND_NOTIFICATIONS=id_для_уведомлений

DB_NAME=имя_базы_данных

DB_USER=пользователь_базы_данных

DB_PASSWORD=пароль_базы_данных

DB_HOST=хост_базы_данных

DB_PORT=порт_базы_данных

```

  

### Примеры конфигурации

  

В репозитории представлены примеры файлов конфигурации, которые можно использовать в качестве шаблонов:

  

-  **`sample_config.py`**: Пример файла конфигурации для подключения к базе данных и настройки бота.

-  **`sample_constants.py`**: Пример файла с константами, такими как время работы, шаг записи и список процедур.

-  **`sample_messages.py`**: Пример файла с текстами сообщений и кнопок для бота.
 

Эти файлы содержат примеры настройки, которые можно адаптировать под свои нужды. Исходные файлы (`config.py`, `constants.py`, `messages.py`) не включены в репозиторий для защиты личных данных.

  

### База данных

  
Бот использует PostgreSQL для хранения данных. Перед запуском бота необходимо создать базу данных и настроить подключение к ней через переменные окружения. Создание таблиц происходит автоматически при первом запуске бота.

  

## Как запустить?


1. Убедитесь, что у вас установлен Python 3.8 или выше.

2. Установите зависимости:

```
pip install -r requirements.txt
```

3. Создайте файл `.env` и задайте необходимые переменные окружения.

4. Запустите бота:

```
python main.py
```